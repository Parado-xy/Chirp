<!-- filepath: c:\Users\HP\Documents\node-mail-service\views\auth\success.ejs -->
<div class="auth-container">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="auth-card text-center">
        <div class="success-icon mb-4">
          <i class='bx bx-check-circle bx-lg text-success'></i>
        </div>
        
        <h2>Registration Successful</h2>
        <p class="text-muted mb-4">Your organization account has been created successfully.</p>
        
        <div class="api-key-section">
          <div class="mb-3">
            <h4><i class='bx bx-key'></i> Your API Key</h4>
            <p class="text-muted small">This key is displayed only once. Store it securely.</p>
          </div>
          
          <div class="api-key-container mb-4">
            <code id="apiKeyValue"><%= apiKey %></code>
            <button class="copy-btn" data-clipboard-target="#apiKeyValue">
              <i class='bx bx-copy'></i> Copy
            </button>
          </div>
          
          <div class="alert alert-warning">
            <i class='bx bx-error-circle me-2'></i>
            <strong>Important:</strong> This API key grants access to your account. Keep it secure and never share it publicly.
          </div>
        </div>
        
        <div class="next-steps mt-4">
          <h5>Next Steps</h5>
          <p>You can now use our API to send emails or explore your dashboard.</p>
          
          <div class="d-grid gap-2 mt-4">
            <a href="/docs" class="btn btn-outline-primary">
              <i class='bx bx-book'></i> View API Documentation
            </a>
            <a href="/dashboard" class="btn btn-primary">
              <i class='bx bx-dashboard'></i> Go to Dashboard
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Copy API key to clipboard functionality
  document.querySelector('.copy-btn').addEventListener('click', function() {
    const apiKey = document.getElementById('apiKeyValue').textContent;
    
    navigator.clipboard.writeText(apiKey).then(() => {
      // Change button text temporarily
      const originalText = this.innerHTML;
      this.innerHTML = '<i class="bx bx-check"></i> Copied!';
      
      setTimeout(() => {
        this.innerHTML = originalText;
      }, 2000);
    }).catch(err => {
      console.error('Failed to copy: ', err);
    });
  });
});
</script>

<style>
.success-icon {
  font-size: 3rem;
  color: #10b981;
}

.api-key-container {
  background-color: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 6px;
  padding: 1rem;
  position: relative;
  margin: 1rem 0;
  text-align: left;
  overflow-x: auto;
}

.api-key-container code {
  display: block;
  word-break: break-all;
  color: #334155;
  background: transparent;
  padding-right: 40px;
  font-family: 'Fira Code', monospace;
  font-size: 0.9rem;
}

.copy-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  background: #e2e8f0;
  border: none;
  border-radius: 4px;
  padding: 6px 10px;
  font-size: 0.8rem;
  color: #475569;
  transition: all 0.2s ease;
}

.copy-btn:hover {
  background: #cbd5e1;
}

.next-steps {
  border-top: 1px solid #e2e8f0;
  padding-top: 1.5rem;
}
</style>